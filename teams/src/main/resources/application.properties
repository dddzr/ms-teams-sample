spring.application.name=teams

# Server Configuration
server.port=8080

# ============================================
# MS 단독 로그인 설정 (기존 기능)
# ============================================
# 시나리오 1: MS 단독 로그인 (DB 연결 없이도 동작)
# - Azure에 등록된 엔드포인트 사용 (/auth/microsoft/callback)
# - DB 연결 없이 MS 로그인만으로 동작
# - Access Token을 세션에 저장하여 Graph API 사용
azure.client-id=YOUR_CLIENT_ID          # 애플리케이션(클라이언트) ID
azure.client-secret=YOUR_CLIENT_SECRET  # 클라이언트 시크릿 값
azure.tenant-id=YOUR_TENANT_ID          # 디렉터리(테넌트) ID
azure.redirect-uri=http://localhost:8080/auth/microsoft/callback
azure.scope=https://graph.microsoft.com/.default offline_access

# ============================================
# OAuth 2.0 설정 (MS가 IdP → 내 앱 로그인 연동)
# ============================================
# 시나리오 2: Microsoft Entra ID가 Identity Provider
# - Microsoft Entra ID가 사용자 인증을 담당
# - 우리 앱은 Relying Party (RP)로 동작
# - 사용자가 Microsoft 계정으로 로그인하면 우리 앱이 인증 정보를 받아 내 앱 계정과 연동
azure.oauth.client-id=YOUR_CLIENT_ID          # 애플리케이션(클라이언트) ID
azure.oauth.client-secret=YOUR_CLIENT_SECRET  # 클라이언트 시크릿 값
azure.oauth.tenant-id=YOUR_TENANT_ID          # 디렉터리(테넌트) ID
azure.oauth.redirect-uri=http://localhost:8080/auth/oauth/callback
azure.oauth.scope=https://graph.microsoft.com/.default offline_access

# ============================================
# SAML 2.0 설정 (우리 포털이 IdP)
# ============================================
# 시나리오: 우리 포털이 Identity Provider
# - 우리 포털이 사용자 인증을 담당
# - Microsoft Entra ID는 Relying Party (RP)로 동작
# - 사용자가 우리 포털에서 로그인하면 Microsoft Entra ID가 우리 포털의 인증 정보를 받음
saml.idp.entity-id=https://localhost:8080/saml/idp
saml.idp.acs-url=https://login.microsoftonline.com/{tenant-id}/saml2
saml.idp.slo-url=https://login.microsoftonline.com/{tenant-id}/saml2
saml.idp.sso-url=http://localhost:8080/auth/saml/sso
saml.idp.metadata-url=http://localhost:8080/auth/saml/metadata
saml.idp.certificate-path=classpath:saml/certificate.pem
saml.idp.private-key-path=classpath:saml/private-key.pem
saml.idp.relying-party-entity-id=https://sts.windows.net/{tenant-id}/
saml.idp.assertion-validity-seconds=300
saml.idp.name-id-format=urn:oasis:names:tc:SAML:2.0:nameid-format:emailAddress

# Database Configuration (H2 In-Memory)
spring.datasource.url=jdbc:h2:mem:teamsdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Logging
logging.level.com.example.teams=DEBUG
logging.level.com.microsoft.graph=DEBUG